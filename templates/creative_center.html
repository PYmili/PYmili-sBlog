<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>创作中心</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='creative_center/css/creative_center.css') }}">
</head>
<body>
    <header class="site-header">
        <nav>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-item">主页</a></li>
                <li><a href="#write" class="nav-item">开始创作</a></li>
                <li><a href="#mypost" class="nav-item">我的文章</a></li>
                <li><a href="#revise_article" class="nav-item">修改文章</a></li>
            </ul>
        </nav>
    </header>

    <main class="content-container">
        <section id="home" class="content-section active">
            <!-- 在这里添加首页内容 -->
            <h2>欢迎来到创作中心</h2>
            <p>在这里您可以自由发挥创意，发布你的文章，分享经验，寻找解答。</p>
        </section>
        
        <!-- 创作页面的内容 -->        
        <section id="write" class="content-section">
            <header class="create-header">
                <div class="toolbar-container">
                    <div class="toolbar">
                        <!-- 功能区按钮组 -->
                        <div class="toolbar-feature-buttons">
                            <div class="toolbar-row">
                                <!-- <button class="toolbar-button" title="insert_image">插入图片</button> -->
                                <!-- 其他功能按钮... -->
                            </div>
                        </div>
        
                        <!-- 标题与摘录输入框组 -->
                        <div class="title-input-group">
                            <input type="text" placeholder="请输入文章标题..." id="post-title" style="padding: 10px;">
                            <input type="text" placeholder="请输入摘录" id="post-excerpt" style="padding: 20px;">
                        </div>
        
                        <!-- 提交、清空及预览图片按钮组 -->
                        <div class="submit-clear-image-group">
                            <button class="submit-button" onclick="clearPost()">清空</button>
                            <button class="submit-button" onclick="submitPost()">提交</button>
                            
                            <!-- 图片上传按钮 -->
                            <div class="toolbar-image-upload">
                                <label for="upload-image" class="toolbar-button">插入预览图片</label>
                                <input id="upload-image" type="file" accept="image/*" onchange="handleImageUpload(this)">
                            </div>
                            <!-- 实时预览图片区域 -->
                            <div class="header-image-preview" id="header-image-preview"></div>
                        </div>
                    </div>
                </div>
            </header>

            <div class="editor-container">
                <!-- Markdown 编辑区 -->
                <textarea class="markdown-editor" id="markdown-textarea" rows="20" placeholder="在此处使用 Markdown 语法编写您的文章..."></textarea>
                
                <!-- 实时预览区 -->
                <div class="preview-container" id="preview-content"></div>
            </div>
        </section>
        
        <section id="mypost" class="content-section">
            <ul class="blog-post-list">
                {% for post in blog_posts %}
                    <li class="blog-post-card" onclick="window.location.href=`{{ post.url }}`">
                        <div class="card-image">
                            <img src="{{ post.image }}" alt="{{ post.title }}">
                        </div>
                        <div class="card-content">
                            <h3 class="post-title">{{ post.title }}</h3>
                            <p class="post-excerpt">{{ post.excerpt }}</p>
                            <div class="post-meta">
                                <span class="post-date">{{ post.upload_time }}</span>
                                <span class="post-author">{{ post.author }}</span>
                            </div>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </section>
        
        <section id="revise_article" class="content-section">
            <!-- 个人设置界面 -->
        </section>
    </main>

    <footer class="site-footer">
        <p>&copy; PYmili's Blog 创作中心 版权所有</p>
    </footer>

    <script src="https://unpkg.com/showdown@2.1.0/dist/showdown.min.js"></script>
    <script src="/static/creative_center/js/toMarkDown.js"></script>
    <script src="/static/creative_center/js/events.js"></script>
</body>
</html>